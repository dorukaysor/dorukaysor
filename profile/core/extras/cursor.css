/**
 * Custom Circular Mouse Pointer
 * Replaces default cursor with animated circular pointer
 */

/* Hide default cursor globally */
* {
  cursor: none !important;
}

/* Custom cursor container */
.custom-cursor {
  position: fixed;
  top: 0;
  left: 0;
  width: 20px;
  height: 20px;
  background: rgba(37, 99, 235, 0.8);
  border: 2px solid rgba(37, 99, 235, 1);
  border-radius: 50%;
  pointer-events: none;
  z-index: 100000;
  transition: all 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform: translate(-50%, -50%);
  mix-blend-mode: difference;
}

/* Cursor dot (center point) */
.custom-cursor::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 4px;
  background: rgba(37, 99, 235, 1);
  border-radius: 50%;
  transform: translate(-50%, -50%);
}

/* Cursor outline (outer ring) */
.custom-cursor::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 32px;
  height: 32px;
  border: 1px solid rgba(37, 99, 235, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.2s ease-out;
}

/* Hover state - when over clickable elements */
.custom-cursor--hover {
  transform: translate(-50%, -50%) scale(1.5);
  background: rgba(14, 165, 233, 0.9);
  border-color: rgba(14, 165, 233, 1);
}

.custom-cursor--hover::after {
  width: 48px;
  height: 48px;
  border-color: rgba(14, 165, 233, 0.5);
}

/* Click state - when clicking */
.custom-cursor--click {
  transform: translate(-50%, -50%) scale(0.8);
  background: rgba(59, 130, 246, 1);
  border-color: rgba(59, 130, 246, 1);
  animation: cursor-click-ripple 0.3s ease-out;
}

/* Text input state - only for input fields */
.custom-cursor--text {
  width: 2px;
  height: 20px;
  border-radius: 1px;
  background: rgba(37, 99, 235, 1);
  border: none;
  animation: cursor-blink 1s ease-in-out infinite;
}

.custom-cursor--text::before {
  display: none;
}

.custom-cursor--text::after {
  display: none;
}

/* Loading/waiting state */
.custom-cursor--loading {
  animation: cursor-pulse 1.5s ease-in-out infinite;
}

/* Button hover with bounce */
.custom-cursor--button {
  transform: translate(-50%, -50%) scale(1.3);
  background: rgba(34, 197, 94, 0.8);
  border-color: rgba(34, 197, 94, 1);
  animation: cursor-bounce 0.6s ease-out;
}

.custom-cursor--button::after {
  width: 40px;
  height: 40px;
  border-color: rgba(34, 197, 94, 0.4);
  animation: cursor-ring-expand 0.8s ease-out;
}

/* Social icons hover with rotation */
.custom-cursor--social {
  transform: translate(-50%, -50%) scale(1.2);
  background: rgba(168, 85, 247, 0.8);
  border-color: rgba(168, 85, 247, 1);
  animation: cursor-rotate 2s linear infinite;
}

/* Project card hover with magnetic effect */
.custom-cursor--project {
  transform: translate(-50%, -50%) scale(1.4);
  background: rgba(249, 115, 22, 0.8);
  border-color: rgba(249, 115, 22, 1);
  animation: cursor-magnetic 2s ease-in-out infinite;
}

/* Navigation hover with glow */
.custom-cursor--nav {
  transform: translate(-50%, -50%) scale(1.25);
  background: rgba(14, 165, 233, 0.9);
  border-color: rgba(14, 165, 233, 1);
  box-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
  animation: cursor-glow 1.5s ease-in-out infinite alternate;
}

/* Form element hover with pulse */
.custom-cursor--form {
  transform: translate(-50%, -50%) scale(1.1);
  background: rgba(139, 92, 246, 0.8);
  border-color: rgba(139, 92, 246, 1);
  animation: cursor-form-pulse 1s ease-in-out infinite;
}

/* Skill item hover with sparkle */
.custom-cursor--skill {
  transform: translate(-50%, -50%) scale(1.2);
  background: rgba(236, 72, 153, 0.8);
  border-color: rgba(236, 72, 153, 1);
  animation: cursor-sparkle 1.2s ease-in-out infinite;
}

/* Link hover with stretch */
.custom-cursor--link {
  transform: translate(-50%, -50%) scaleX(1.5);
  background: rgba(34, 197, 94, 0.8);
  border-color: rgba(34, 197, 94, 1);
  animation: cursor-stretch 0.4s ease-out;
}

/* Animation Keyframes */
@keyframes cursor-pulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.3);
    opacity: 0.8;
  }
}

@keyframes cursor-click-ripple {
  0% {
    transform: translate(-50%, -50%) scale(0.8);
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
  }
  70% {
    transform: translate(-50%, -50%) scale(1);
    box-shadow: 0 0 0 15px rgba(59, 130, 246, 0);
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
  }
}

@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}

@keyframes cursor-bounce {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1.3);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.5);
  }
}

@keyframes cursor-ring-expand {
  0% {
    width: 32px;
    height: 32px;
    opacity: 1;
  }
  100% {
    width: 60px;
    height: 60px;
    opacity: 0;
  }
}

@keyframes cursor-rotate {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes cursor-magnetic {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1.4);
    border-radius: 50%;
  }
  25% {
    transform: translate(-50%, -50%) scale(1.2) skew(5deg);
    border-radius: 40%;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.6);
    border-radius: 30%;
  }
  75% {
    transform: translate(-50%, -50%) scale(1.3) skew(-5deg);
    border-radius: 60%;
  }
}

@keyframes cursor-glow {
  0% {
    box-shadow: 0 0 10px rgba(14, 165, 233, 0.3);
  }
  100% {
    box-shadow: 0 0 25px rgba(14, 165, 233, 0.7);
  }
}

@keyframes cursor-form-pulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.25);
    opacity: 0.8;
  }
}

@keyframes cursor-sparkle {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1.2) rotate(0deg);
    filter: hue-rotate(0deg);
  }
  25% {
    transform: translate(-50%, -50%) scale(1.35) rotate(90deg);
    filter: hue-rotate(90deg);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1) rotate(180deg);
    filter: hue-rotate(180deg);
  }
  75% {
    transform: translate(-50%, -50%) scale(1.4) rotate(270deg);
    filter: hue-rotate(270deg);
  }
}

@keyframes cursor-stretch {
  0% {
    transform: translate(-50%, -50%) scaleX(1);
  }
  50% {
    transform: translate(-50%, -50%) scaleX(1.8);
  }
  100% {
    transform: translate(-50%, -50%) scaleX(1.5);
  }
}

/* Dark theme adjustments */
[data-theme="dark"] .custom-cursor {
  background: rgba(59, 130, 246, 0.8);
  border-color: rgba(59, 130, 246, 1);
}

[data-theme="dark"] .custom-cursor::before {
  background: rgba(59, 130, 246, 1);
}

[data-theme="dark"] .custom-cursor::after {
  border-color: rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] .custom-cursor--hover {
  background: rgba(14, 165, 233, 0.9);
  border-color: rgba(14, 165, 233, 1);
}

[data-theme="dark"] .custom-cursor--hover::after {
  border-color: rgba(14, 165, 233, 0.5);
}

[data-theme="dark"] .custom-cursor--text {
  background: rgba(59, 130, 246, 1);
}

/* Special states for different elements */
.custom-cursor--disabled {
  background: rgba(156, 163, 175, 0.6);
  border-color: rgba(156, 163, 175, 1);
}

.custom-cursor--grab {
  transform: translate(-50%, -50%) scale(1.2);
  background: rgba(34, 197, 94, 0.8);
  border-color: rgba(34, 197, 94, 1);
}

/* Smooth movement on high refresh rate displays */
@media (min-resolution: 120dpi) {
  .custom-cursor {
    transition: all 0.05s linear;
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .custom-cursor {
    transition: none !important;
    animation: none !important;
  }
  
  .custom-cursor::after {
    transition: none !important;
  }
}

/* Ensure cursor is above everything */
.custom-cursor {
  z-index: 100000;
}

/* Ensure cursor stays above alert overlays */
.custom-alert-overlay ~ .custom-cursor,
.custom-alert-overlay + .custom-cursor {
  z-index: 100001 !important;
}

/* Hide custom cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
  .custom-cursor {
    display: none !important;
  }
  
  * {
    cursor: auto !important;
  }
}